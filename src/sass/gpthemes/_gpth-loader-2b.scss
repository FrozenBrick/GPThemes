#gpth-theme-loader {
    // Use CSS custom property for timing
    --loader-duration: 300ms;

    // Optimize transitions
    will-change: opacity;
    backface-visibility: hidden;
    transform: translateZ(0);

    // Base styles
    position: fixed;
    inset: 0; // More performant than setting individual positions
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--c-bg-sidebar);
    z-index: 9999;

    // Initial state
    opacity: 0;
    pointer-events: none;

    // Smooth transitions
    transition: opacity var(--loader-duration) cubic-bezier(0.4, 0, 0.2, 1);

    @keyframes gradientFlow {
        0% {
            background-position: 0% 50%;
        }

        100% {
            background-position: 300% 50%;
        }
    }

    // @keyframes spin {
    //     from {
    //         transform: rotate(0deg);
    //     }

    //     to {
    //         transform: rotate(360deg);
    //     }
    // }

    &.show-loader {
        opacity: 1;
        pointer-events: auto;

        .gpth-theme-loader__spinner {
            animation: spin 1s infinite cubic-bezier(0.4, 0, 0.2, 1);
        }

        .gpth-theme-loader__title {
            animation: animShimmer 1s linear infinite;
        }
    }
}

.gpth-theme-loader {
    &__content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        transform: translateZ(0); // Force GPU acceleration
    }

    &__title {
        will-change: background-position;

        font-size: 4rem;
        font-weight: 200;
        position: relative;
        display: inline-block;
        color: transparent; // Hide the base text
        background: linear-gradient(90deg,
                var(--c-accent) 0%,
                var(--c-bg-sidebar) 50%,
                var(--c-accent) 100%);
        background-size: 200% 100%;
        -webkit-background-clip: text;
        background-clip: text;

        &::before {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            color: var(--c-accent); // Fallback text color
            z-index: -1;
        }

    }

    &__spinner {
        will-change: transform;
        width: clamp(3rem, 5vw, 5rem);
        height: clamp(3rem, 5vw, 5rem);
        border: 3px solid hsla(var(--accent-hsl) / 0.2);
        border-top-color: var(--c-accent);
        border-radius: 50%;
        // transition: border-color var(--loader-duration) ease;
    }
}