/* Sidebar bg-color */
.bg-token-sidebar-surface-primary:has(nav[aria-label='Chat history']) {
	color: var(--c-txt) !important;

	/* Fix white txt on "NEW CHAT" in sidebar for light especially */
	// nav a > * {
	// 	color: var(--c-txt) !important;
	// }

	/* "New Chat" link (first in nav in sidebar) */
	// nav a[href='/'] {
	// 	border: 2px solid var(--c-surface-2);
	// 	padding: var(--p-sidebar-nav-a-new-chat) !important;
	// 	text-transform: uppercase;
	// 	margin-bottom: 1rem !important;

	// 	/* "NEW CHAT" ChatGPT logo */
	// 	.gizmo-shadow-stroke svg {
	// 		color: var(--c-on-accent) !important;
	// 	}

	// 	/* NEW CHAT svg icon on the right */
	// 	button > svg {
	// 		visibility: visible !important;
	// 	}
	// }

	/* "Explore GPTs" link parents - Ne mozemo dodati direkt n ovaj lnk jer kad dodamo vise GPTs producta u ovu listu da bude iznad "Explore GPTs" onda ono nema margin-top vec samo ovaj link, a mi zelimo parent da ima */
	nav .sticky + div:has(a[href^='/gpts']) {
		margin-top: 0.8rem;
	}
}

nav[aria-label='Chat history'] {
	padding: var(--p-sidebar-nav) !important;

	/* Parent of "NEW CHAT" btn */
	.sticky:has(a[href='/']) {
		background-color: var(--c-bg-sidebar) !important;
		// backdrop-filter: blur(0px) !important;
	}

	/* NEW CHAT + LIST of chats in nav. Adding padding-left prevent :focus-visible style in those elements to be cropped from the left because of the overflow-hidden */
	.overflow-y-auto {
		padding-left: 0.3rem !important;

		/* Your Firefox-specific styles here */
		@-moz-document url-prefix() {
			padding-right: 0.8rem !important; // this add only for Firefox
		}
	}

	/* Parent of time heading (of Today, Yesterday) in sidebar */
	span:has(> h3) {

		/* Today, Yesterday - Time heading in sidebar */
		h3 {
			@extend %date-pill;
		}
	}

	a {
		color: var(--c-txt) !important;
		padding: var(--p-sidebar-nav-a) !important;
		// border-radius: var(--br-nav-a) !important;

		/* "Upgrade" link in nav bg */
		span.rounded-full.border-token-border-light {
			border-color: transparent !important;
			background-color: var(--c-accent) !important;

			/* SVG icon in "Upgrade" link in nav */
			& > svg {
				color: var(--c-on-accent) !important;
			}
		}

		/* Remove too much/vertical space padding from "Explore GPTs" */
		&[href^='/gpts'] {
			// margin: 0 !important;
			padding: 0 !important;
		}
	}

	li {
		margin-bottom: var(--mb-sidebar-nav-li) !important;

		.group {
			overflow: hidden;

			/* Active sidebar list item */
			// &.bg-token-sidebar-surface-tertiary {
			// 	// background-color: var(--c-surface-2) !important;
			// 	opacity: 1 !important;
			// }

			&:hover {
				--item-background-color: var(--main-surface-secondary-selected);

			}

			/* 3dots btn wrapper - inherit means inherit it from the parent (.group) when hovered or not */
			.absolute.bottom-0.top-0.hidden:has(button>svg) {
				background-color: inherit !important;
			}

			/* 3 dots > "Rename" clicked - style of input parent and input  - this is <div> next to <a> */
			&:has(input) {
				outline: 2px solid hsl(var(--accent-hsl) / 0.2);

				&,
				& .bg-token-sidebar-surface-secondary {
					background-color: var(--c-bg-sidebar) !important;
				}

				input {
					// input rename border color on focused
					--tw-ring-color: transparent !important;
					caret-color: var(--c-txt);
					border: none !important;
					outline: none !important;
					// box-shadow: none !important;
				}
			}
		}
	}
}


/* SIDEBAR for mobile */
.bg-token-sidebar-surface-primary[role='dialog']:has(nav[aria-label='Chat history']) {
	--p-dialog: 0.5rem;
	background-color: var(--c-bg-sidebar) !important;
	border-radius: var(--br-contextmenu) !important;
}